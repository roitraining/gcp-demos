# ROI GCP Training Demos

## Setup
* Open Cloud Shell
* Run the following to clone the repo and change directories
  ```bash
  cd ~
  git clone https://github.com/roitraining/gcp-demos.git
  cd gcp-demos
  ```

### BigQuery Demos

Simple demos used to illustrate various BigQuery techniques

* **bq_hive** allows you to show BigQuery doing optimized queries against
   Hive-paritioned data in GCS
* **github_demo** is useful for walking people through array functions and
   searching for rows that have a given value in an array column
* **hackernews_demo** is useful for walking people through array work and 
   window functions
* **scds** shows some ways of updating nested tables when a dimension changes.
   This should be fleshed out with other techniques.
* **wiki_queries** is just the simple wiki demo query

### BigQuery Do-It-Nows

Compised of the **bq-do-it-nows** folder and the **docs** folder, this is a
collection of 20+ quick hands-on activities that can be done as demos of by 
students.

Students access the activities using https://roitraining.github.io/gcp-demos/#0

Many require setup using the **bq-schema-demo** resources.

### BigQuery Schema Demo

This can be used to demonstrate the impact of schema design choices. The
datasets generated by the code in this folder is also used in the Do-It-Nows.
For more info, see the **README** in the **bq-schema-demo** folder.

### Dataflow streaming in Python

This can be used to demonstrate how to write a streaming pipeline in Beam
using the Python SDK, as well as how to run and test in Dataflow. Code
is pretty clean and easy to follow. Found in the 
**dflow-bq-stream-python folder**.

### DLP Demo
1. Open application at <https://roi-gcp-demos.appspot.com/dlp_demo>
1. Enter text with no sensitive data into left pane; see results on right
1. Enter sensitive data in left pane; see results on right
1. Fiddle around with contextual info on left, see ratings change on right
1. Demonstrate different remediation tactics with blue buttons
1. Optional - show source code to class (found in **dlp-demo-app** folder)

### GenAI Demos
* **streamlist_chat_simple** offers a PaLM-based chat bot application thatâ€™s
  easy to understand and easy to deploy

### Misc
* **Dataproc scaling demo**
  1. Open ```dataproc_scale_demo.sh```
  1. Use first command in Cloud Shell to create the cluster
  1. Use second set of commands in cloud Shell to submit the job
  1. Show the slow progress of the job
  1. Open a 2nd Cloud Shell session, and use the third command to add nodes to
    the cluster, changing the number of nodes to fit within your quotas.
  1. Show the new nodes. Show the improved rate of progress
  1. Run the last command to tear down the cluster
